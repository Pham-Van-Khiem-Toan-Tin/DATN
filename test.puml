@startuml
left to right direction

actor "Người dùng" as User

rectangle "Tài khoản" {
  usecase UC_Manage as "Quản lý tài khoản"
  usecase UC_ChangePwd as "Đổi mật khẩu"
  usecase UC_Profile as "Chỉnh sửa thông tin cá nhân"

  usecase UC_Auth as "Xác thực mật khẩu hiện tại"
  usecase UC_Policy as "Kiểm tra chính sách mật khẩu"
  usecase UC_Save as "Lưu thay đổi"
  usecase UC_2FA as "Xác minh 2FA"
  usecase UC_Email as "Gửi email thông báo"
}

' Kết nối mục tiêu trực tiếp
User --> UC_ChangePwd
User --> UC_Profile
User --> UC_Manage

' (Tùy chọn) thể hiện nó nằm trong ngữ cảnh quản lý
UC_Manage <|.. UC_ChangePwd : <<extend>>
UC_Manage <|.. UC_Profile : <<extend>>

' Luồng bắt buộc khi đổi mật khẩu
UC_ChangePwd --> UC_Auth : <<include>>
UC_ChangePwd --> UC_Policy : <<include>>
UC_ChangePwd --> UC_Save : <<include>>

' Nhánh điều kiện
UC_ChangePwd ..> UC_2FA : <<extend>>\n(khi bật 2FA)
UC_ChangePwd ..> UC_Email : <<extend>>\n(khi cấu hình gửi mail)

@enduml
